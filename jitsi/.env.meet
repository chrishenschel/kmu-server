################################################################################
# Jitsi Meet Docker configuration for KMU stack
#
# This env file is used by jitsi/docker-compose.jitsi.yaml and is patched
# by 02-system-setup.sh to inject the real domain and strong secrets.
################################################################################

# Directory where all configuration will be stored (host path)
CONFIG=./jitsi/config

# Exposed HTTP/HTTPS ports for the Jitsi web container are NOT mapped to the
# host; Caddy terminates TLS and proxies to the web service over the
# caddy-proxy Docker network. These values are kept for completeness but are
# unused in this stack.
HTTP_PORT=8000
HTTPS_PORT=8443

# System time zone
TZ=Europe/Berlin

# Public URL for the web service (patched by 02-system-setup.sh)
PUBLIC_URL=https://meet.__DOMAIN__

# XMPP server hostname: use Docker service name so jicofo/jvb/prosody resolve it
XMPP_SERVER=prosody

################################################################################
# Authentication configuration
#
# We enable Jitsi's built-in \"secure domain\" style auth with internal
# accounts: only authenticated users can create rooms, while guests can join
# existing rooms anonymously.
################################################################################

# Enable authentication (will ask for login and password to join the meeting)
ENABLE_AUTH=1

# Enable guest access (unauthenticated users wait in the lobby until a
# registered user / moderator joins)
ENABLE_GUESTS=1

# Authentication type: internal user database inside Prosody
AUTH_TYPE=internal

################################################################################
# Security â€“ XMPP component passwords
#
# These MUST be strong random values. 02-system-setup.sh will replace the
# placeholders on first run so that the secrets are never committed to git.
################################################################################

# XMPP password for Jicofo client connections (patched by 02-system-setup.sh)
JICOFO_AUTH_PASSWORD=__JICOFO_AUTH_PASSWORD__

# XMPP password for JVB client connections (patched by 02-system-setup.sh)
JVB_AUTH_PASSWORD=__JVB_AUTH_PASSWORD__

# Optional: additional passwords (Jigasi / Jibri) are not needed because we
# do not run those components in this stack.

################################################################################
# TURN / STUN configuration
#
# A dedicated coturn instance is used for NAT traversal. These values are
# patched by 02-system-setup.sh to match your domain and generated credentials.
################################################################################

TURN_HOST=turn.__DOMAIN__
TURNS_HOST=turn.__DOMAIN__
TURN_PORT=3478
TURNS_PORT=5349
TURN_TRANSPORT=udp

TURN_USERNAME=__TURN_USER__
TURN_PASSWORD=__TURN_PASS__


